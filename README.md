Документация для проекта "Учет личных финансов"

Общее описание

Приложение "Учет личных финансов" - это десктопное приложение для Windows, разработанное на C# с использованием Windows Forms и SQLite для хранения данных. Оно предназначено для учета доходов и расходов, контроля бюджета, управления регулярными платежами и отслеживания долгов.

Функциональные возможности

Основные модули:
1. **Учет операций**
   - Добавление доходов и расходов
   - Категоризация операций
   - Указание способа оплаты
   - Фильтрация и поиск операций

2. **Управление бюджетами**
   - Установка лимитов по категориям
   - Отслеживание потраченных сумм
   - Визуализация остатков бюджета

3. **Регулярные платежи**
   - Настройка периодических платежей
   - Управление частотами платежей
   - Отслеживание следующих дат платежей

4. **Управление долгами**
   - Учет денежных обязательств
   - Разделение на "мне должны" и "я должен"
   - Отметка о погашении долгов

5. **Отчеты и аналитика**
   - Общий баланс
   - Суммарные доходы и расходы
   - Статистика по категориям

Техническая архитектура

Технологический стек:
- **Язык программирования**: C#
- **Платформа**: .NET Framework
- **Графический интерфейс**: Windows Forms
- **База данных**: SQLite
- **Система контроля версий**: Git

Структура проекта:
```
Учет_личных_финансов
├── Form1.cs                - Главная форма приложения
├── DatabaseManager.cs      - Класс для работы с базой данных
├── FinanceControls.cs      - Класс управления элементами интерфейса
├── Models/                 - Модели данных
│   ├── Transaction.cs
│   ├── DebtRecord.cs
│   ├── RecurringPayment.cs
│   └── BudgetDisplay.cs
└── finance.db              - Файл базы данных SQLite
```

Установка и настройка

Требования:
- ОС Windows 7 или выше
- .NET Framework 4.5 или выше
- 100 МБ свободного места на диске

Инструкция по установке:
1. Скачайте последнюю версию приложения из раздела Releases
2. Распакуйте архив в выбранную директорию
3. Запустите файл Учет_личных_финансов_c_.exe

Первоначальная настройка:
1. При первом запуске автоматически создается файл базы данных finance.db
2. Рекомендуется настроить основные категории доходов/расходов
3. Можно импортировать данные из CSV (функция в разработке)

Руководство пользователя

1. Добавление операции
1. Выберите тип операции (Доход/Расход)
2. Укажите категорию
3. Введите сумму
4. При необходимости добавьте описание
5. Укажите способ оплаты
6. Нажмите "Добавить"

2. Управление бюджетами
1. Перейдите на вкладку "Бюджеты"
2. Выберите категорию из списка
3. Введите лимит
4. Нажмите "Установить бюджет"
5. В таблице отображаются: лимит, потрачено, остаток

3. Регулярные платежи
1. На вкладке "Регулярные платежи" нажмите "Добавить"
2. Заполните данные:
   - Сумма
   - Категория
   - Периодичность (ежедневно/ежемесячно/ежегодно)
   - Дата следующего платежа
3. Нажмите "ОК"

4. Управление долгами
1. На вкладке "Долги" нажмите "Добавить долг"
2. Укажите:
   - ФИО человека
   - Сумму
   - Тип (мне должны/я должен)
   - Срок погашения
   - Описание
3. Для отметки о погашении выберите долг и нажмите "Погасить"

5. Резервное копирование
1. Нажмите "Резервная копия"
2. Выберите место сохранения
3. Нажмите "Сохранить"

6. Восстановление данных
1. Нажмите "Восстановить"
2. Выберите файл резервной копии
3. Нажмите "Открыть"

Структура базы данных

Таблица Transactions
```sql
CREATE TABLE Transactions (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Amount DECIMAL NOT NULL,
    Description TEXT,
    Type TEXT NOT NULL,
    Category TEXT NOT NULL,
    PaymentMethod TEXT NOT NULL,
    Date DATETIME NOT NULL,
    Currency TEXT DEFAULT 'RUB'
)
```

Таблица Budgets
```sql
CREATE TABLE Budgets (
    Category TEXT PRIMARY KEY,
    "Limit" NUMERIC(10, 2) NOT NULL
)
```

Таблица RecurringPayments
```sql
CREATE TABLE RecurringPayments (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Description TEXT,
    Amount DECIMAL NOT NULL,
    Category TEXT NOT NULL,
    Frequency TEXT NOT NULL,
    NextPaymentDate DATETIME NOT NULL
)
```

Таблица Debts
```sql
CREATE TABLE Debts (
    Id INTEGER PRIMARY KEY AUTOINCREMENT,
    Person TEXT NOT NULL,
    Amount DECIMAL NOT NULL,
    IsOwedToMe BOOLEAN NOT NULL,
    DueDate DATETIME NOT NULL,
    Description TEXT,
    IsSettled BOOLEAN DEFAULT 0
)
```

API и методы

DatabaseManager - основные методы:

Для работы с транзакциями:
- `AddTransaction(Transaction transaction)` - добавление новой транзакции
- `UpdateTransaction(Transaction transaction)` - обновление существующей транзакции
- `DeleteTransaction(int id)` - удаление транзакции
- `GetAllTransactions()` - получение всех транзакций
- `GetTransactionsByDateRange(DateTime start, DateTime end)` - получение транзакций за период
- `GetCurrentBalance()` - получение текущего баланса
- `GetTotalIncome()` - получение суммы доходов
- `GetTotalExpenses()` - получение суммы расходов

Для работы с бюджетами:
- `SetBudget(string category, decimal limit)` - установка бюджета для категории
- `GetBudget(string category)` - получение бюджета для категории
- `GetAllBudgets()` - получение всех бюджетов
- `DeleteBudget(string category)` - удаление бюджета
- `GetCategorySpending(string category, DateTime startDate, DateTime endDate)` - получение суммы расходов по категории за период

Для регулярных платежей:
- `AddRecurringPayment(RecurringPayment payment)` - добавление регулярного платежа
- `UpdateRecurringPayment(RecurringPayment payment)` - обновление регулярного платежа
- `DeleteRecurringPayment(int id)` - удаление регулярного платежа
- `GetAllRecurringPayments()` - получение всех регулярных платежей
- `GetDueRecurringPayments(DateTime toDate)` - получение платежей, которые должны быть выполнены до указанной даты

Для работы с долгами:
- `AddDebt(DebtRecord debt)` - добавление долга
- `UpdateDebt(DebtRecord debt)` - обновление информации о долге
- `DeleteDebt(int id)` - удаление долга
- `GetAllDebts()` - получение всех долгов
- `GetActiveDebts()` - получение активных (непогашенных) долгов
- `MarkDebtAsSettled(int id)` - отметка о погашении долга

Разработка и расширение

Сборка проекта:
1. Клонируйте репозиторий
2. Откройте решение в Visual Studio
3. Восстановите NuGet пакеты
4. Соберите решение (Ctrl+Shift+B)

Возможности для расширения:
1. Добавление графиков и диаграмм
2. Импорт/экспорт данных в CSV/Excel
3. Мультивалютная поддержка
4. Мобильная версия приложения
5. Интеграция с банковскими API

Известные проблемы:
- Нет поддержки нескольких пользователей
